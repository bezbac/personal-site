---
import "./src/styles/global.css";
import ThemeButton from "../components/ThemeButton";
import { Font } from "astro:assets";
import { IconMoon, IconSun } from "@tabler/icons-react";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="generator" content={Astro.generator} />
    <title>Ben Bachem</title>
    <script is:inline>
      const theme = localStorage.getItem("theme");

      if (
        theme === "dark" ||
        (!theme && window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      }
    </script>
    <Font cssVariable="--font-figtree" preload />
    <Font cssVariable="--font-fira-code" preload />
  </head>
  <body>
    <div class="group z-10 sticky top-0">
      <div
        class="pointer-events-none h-screen top-12 left-0 absolute w-full bg-white/20 dark:bg-black/10 invisible opacity-0 group-hover:opacity-100 group-hover:visible backdrop-blur transition-opacity duration-300"
      >
      </div>
      <div
        class="block invisible group-hover:visible absolute bg-neutral-980 dark:bg-neutral-180 w-full top-12 left-0 border-b border-neutral-910 dark:border-neutral-310 dark:shadow-2xl -translate-y-6 group-hover:translate-y-0 transition-transform duration-200"
      >
        <ul class="container py-4 flex flex-col gap-2 font-code text-sm">
          <li
            class="text-neutral-380 hover:text-accent cursor-pointer aria-selected:text-accent"
            aria-selected="true"
          >
            ./home
          </li>
          <li class="text-neutral-380 hover:text-accent cursor-pointer">
            ./blog
          </li>
          <li class="text-neutral-380 hover:text-accent cursor-pointer">
            ./projects
          </li>
          <li class="text-neutral-380 hover:text-accent cursor-pointer">
            ./uses
          </li>
        </ul>
      </div>
      <div
        class="w-full h-12 flex items-center bg-neutral-980 dark:bg-neutral-180 border-b dark:border-neutral-230 border-white/20 shadow shadow-accent/5 dark:shadow-none relative"
      >
        <div
          class="container flex gap-2 text-sm dark:text-neutral-380 text-neutral-640"
        >
          <div class="text-neutral-310 dark:text-neutral-380 font-code">
            ./home
          </div>
          <div class="ml-auto flex gap-2">
            <ThemeButton
              client:load
              mode="dark"
              className="cursor-pointer dark:hover:text-neutral-820 hover:text-black aria-selected:text-accent"
              aria-label="Enable dark mode"
              ><IconMoon className="size-4.5" /></ThemeButton
            >
            <ThemeButton
              client:load
              mode="light"
              className="cursor-pointer dark:hover:text-neutral-820 hover:text-black aria-selected:text-accent"
              aria-label="Enable light mode"
              ><IconSun className="size-4.5" /></ThemeButton
            >
          </div>
        </div>
      </div>
    </div>
    <slot />
  </body>
</html>
